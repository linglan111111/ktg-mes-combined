(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f3328b02"],{"2d6a":function(e,t,l){"use strict";l.d(t,"b",(function(){return o})),l.d(t,"a",(function(){return r})),l.d(t,"c",(function(){return s}));var a=l("b775");function o(e){return Object(a["a"])({url:"/mes/md/batchconfig/"+e,method:"get"})}function r(e){return Object(a["a"])({url:"/mes/md/batchconfig",method:"post",data:e})}function s(e){return Object(a["a"])({url:"/mes/md/batchconfig",method:"put",data:e})}},5606:function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",{staticClass:"app-container"},[l("el-row",{staticClass:"mb8",attrs:{gutter:10}},[l("el-col",{attrs:{span:2,offset:22}},["add"===e.optType||"edit"===e.optType?l("el-button",{directives:[{name:"hasPermi",rawName:"v-hasPermi",value:["mes:md:batchconfig:update"],expression:"['mes:md:batchconfig:update']"}],attrs:{type:"danger",plain:"",icon:"el-icon-save",size:"mini"},on:{click:e.submitForm}},[e._v("保存")]):e._e()],1)],1),l("el-form",{ref:"form",attrs:{model:e.form,rules:e.rules}},[l("el-form-item",{attrs:{prop:"selectedAttributes"}},[l("el-row",[l("el-col",{attrs:{span:4}},["ITEM"===e.itemProductFlag?l("el-checkbox",{attrs:{"true-label":"Y","false-label":"N"},model:{value:e.form.vendorFlag,callback:function(t){e.$set(e.form,"vendorFlag",t)},expression:"form.vendorFlag"}},[e._v("供应商")]):e._e()],1),l("el-col",{attrs:{span:4}},["ITEM"===e.itemProductFlag?l("el-checkbox",{attrs:{"true-label":"Y","false-label":"N"},model:{value:e.form.poCodeFlag,callback:function(t){e.$set(e.form,"poCodeFlag",t)},expression:"form.poCodeFlag"}},[e._v("采购订单编号")]):e._e()],1),l("el-col",{attrs:{span:4}},["ITEM"===e.itemProductFlag?l("el-checkbox",{attrs:{"true-label":"Y","false-label":"N"},model:{value:e.form.lotNumberFlag,callback:function(t){e.$set(e.form,"lotNumberFlag",t)},expression:"form.lotNumberFlag"}},[e._v("生产批号")]):e._e()],1),l("el-col",{attrs:{span:4}},["ITEM"===e.itemProductFlag?l("el-checkbox",{attrs:{"true-label":"Y","false-label":"N"},model:{value:e.form.expireDateFlag,callback:function(t){e.$set(e.form,"expireDateFlag",t)},expression:"form.expireDateFlag"}},[e._v("有效期")]):e._e()],1)],1),l("el-row",[l("el-col",{attrs:{span:4}},["PRODUCT"===e.itemProductFlag?l("el-checkbox",{attrs:{"true-label":"Y","false-label":"N"},model:{value:e.form.clientFlag,callback:function(t){e.$set(e.form,"clientFlag",t)},expression:"form.clientFlag"}},[e._v("客户")]):e._e()],1),l("el-col",{attrs:{span:4}},["PRODUCT"===e.itemProductFlag?l("el-checkbox",{attrs:{"true-label":"Y","false-label":"N"},model:{value:e.form.coCodeFlag,callback:function(t){e.$set(e.form,"coCodeFlag",t)},expression:"form.coCodeFlag"}},[e._v("销售订单编号")]):e._e()],1),l("el-col",{attrs:{span:4}},["PRODUCT"===e.itemProductFlag?l("el-checkbox",{attrs:{"true-label":"Y","false-label":"N"},model:{value:e.form.workorderFlag,callback:function(t){e.$set(e.form,"workorderFlag",t)},expression:"form.workorderFlag"}},[e._v("生产工单")]):e._e()],1),l("el-col",{attrs:{span:4}},["PRODUCT"===e.itemProductFlag?l("el-checkbox",{attrs:{"true-label":"Y","false-label":"N"},model:{value:e.form.workstationFlag,callback:function(t){e.$set(e.form,"workstationFlag",t)},expression:"form.workstationFlag"}},[e._v("工作站")]):e._e()],1),l("el-col",{attrs:{span:4}},[l("el-checkbox",{attrs:{"true-label":"Y","false-label":"N"},model:{value:e.form.produceDateFlag,callback:function(t){e.$set(e.form,"produceDateFlag",t)},expression:"form.produceDateFlag"}},[e._v("生产日期")])],1)],1)],1)],1)],1)},o=[],r=(l("d9e2"),l("2d6a")),s={name:"Batchconfig",props:{itemId:null,itemProductFlag:null,optType:null},data(){return{form:{configId:null,itemId:this.itemId,produceDateFlag:"N",expireDateFlag:"N",recptDateFlag:"N",vendorFlag:"N",clientFlag:"N",coCodeFlag:"N",poCodeFlag:"N",workorderFlag:"N",taskFlag:"N",workstationFlag:"N",toolFlag:"N",moldFlag:"N",lotNumberFlag:"N",qualityStatusFlag:"N"},rules:{selectedAttributes:[{validator:this.checkSelectedAttributes,trigger:"change"}]}}},created(){this.getBatchconfig()},methods:{checkSelectedAttributes(e,t,l){"N"===this.form.produceDateFlag&&"N"===this.form.expireDateFlag&&"N"===this.form.recptDateFlag&&"N"===this.form.vendorFlag&&"N"===this.form.clientFlag&&"N"===this.form.coCodeFlag&&"N"===this.form.poCodeFlag&&"N"===this.form.workorderFlag&&"N"===this.form.taskFlag&&"N"===this.form.workstationFlag&&"N"===this.form.toolFlag&&"N"===this.form.moldFlag&&"N"===this.form.lotNumberFlag&&"N"===this.form.qualityStatusFlag?l(new Error("至少选择一个属性")):l()},getBatchconfig(){Object(r["b"])(this.itemId).then(e=>{e.data&&(this.form=e.data)})},submitForm(){this.$refs["form"].validate(e=>{e&&(null!=this.form.configId?Object(r["c"])(this.form).then(e=>{this.$modal.msgSuccess("修改成功"),this.open=!1}):Object(r["a"])(this.form).then(e=>{this.$modal.msgSuccess("修改成功"),this.open=!1}))})}}},c=s,i=l("2877"),n=Object(i["a"])(c,a,o,!1,null,null,null);t["default"]=n.exports}}]);