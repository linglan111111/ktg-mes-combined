(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c94ba"],{5911:function(e,a,s){"use strict";s.r(a);var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"app-container"},[s("el-row",[s("el-col",{staticClass:"card-box",attrs:{span:24}},[s("el-card",[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[e._v("基本信息")])]),s("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[s("table",{staticStyle:{width:"100%"},attrs:{cellspacing:"0"}},[s("tbody",[s("tr",[s("td",{staticClass:"el-table__cell is-leaf"},[s("div",{staticClass:"cell"},[e._v("Redis版本")])]),s("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?s("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.redis_version))]):e._e()]),s("td",{staticClass:"el-table__cell is-leaf"},[s("div",{staticClass:"cell"},[e._v("运行模式")])]),s("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?s("div",{staticClass:"cell"},[e._v(e._s("standalone"==e.cache.info.redis_mode?"单机":"集群"))]):e._e()]),s("td",{staticClass:"el-table__cell is-leaf"},[s("div",{staticClass:"cell"},[e._v("端口")])]),s("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?s("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.tcp_port))]):e._e()]),s("td",{staticClass:"el-table__cell is-leaf"},[s("div",{staticClass:"cell"},[e._v("客户端数")])]),s("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?s("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.connected_clients))]):e._e()])]),s("tr",[s("td",{staticClass:"el-table__cell is-leaf"},[s("div",{staticClass:"cell"},[e._v("运行时间(天)")])]),s("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?s("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.uptime_in_days))]):e._e()]),s("td",{staticClass:"el-table__cell is-leaf"},[s("div",{staticClass:"cell"},[e._v("使用内存")])]),s("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?s("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.used_memory_human))]):e._e()]),s("td",{staticClass:"el-table__cell is-leaf"},[s("div",{staticClass:"cell"},[e._v("使用CPU")])]),s("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?s("div",{staticClass:"cell"},[e._v(e._s(parseFloat(e.cache.info.used_cpu_user_children).toFixed(2)))]):e._e()]),s("td",{staticClass:"el-table__cell is-leaf"},[s("div",{staticClass:"cell"},[e._v("内存配置")])]),s("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?s("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.maxmemory_human))]):e._e()])]),s("tr",[s("td",{staticClass:"el-table__cell is-leaf"},[s("div",{staticClass:"cell"},[e._v("AOF是否开启")])]),s("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?s("div",{staticClass:"cell"},[e._v(e._s("0"==e.cache.info.aof_enabled?"否":"是"))]):e._e()]),s("td",{staticClass:"el-table__cell is-leaf"},[s("div",{staticClass:"cell"},[e._v("RDB是否成功")])]),s("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?s("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.rdb_last_bgsave_status))]):e._e()]),s("td",{staticClass:"el-table__cell is-leaf"},[s("div",{staticClass:"cell"},[e._v("Key数量")])]),s("td",{staticClass:"el-table__cell is-leaf"},[e.cache.dbSize?s("div",{staticClass:"cell"},[e._v(e._s(e.cache.dbSize)+" ")]):e._e()]),s("td",{staticClass:"el-table__cell is-leaf"},[s("div",{staticClass:"cell"},[e._v("网络入口/出口")])]),s("td",{staticClass:"el-table__cell is-leaf"},[e.cache.info?s("div",{staticClass:"cell"},[e._v(e._s(e.cache.info.instantaneous_input_kbps)+"kps/"+e._s(e.cache.info.instantaneous_output_kbps)+"kps")]):e._e()])])])])])])],1),s("el-col",{staticClass:"card-box",attrs:{span:12}},[s("el-card",[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[e._v("命令统计")])]),s("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[s("div",{ref:"commandstats",staticStyle:{height:"420px"}})])])],1),s("el-col",{staticClass:"card-box",attrs:{span:12}},[s("el-card",[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",[e._v("内存信息")])]),s("div",{staticClass:"el-table el-table--enable-row-hover el-table--medium"},[s("div",{ref:"usedmemory",staticStyle:{height:"420px"}})])])],1)],1)],1)},l=[],i=s("b775");function c(){return Object(i["a"])({url:"/monitor/cache",method:"get"})}var _=s("313e"),d=s.n(_),n={name:"Server",data(){return{commandstats:null,usedmemory:null,cache:[]}},created(){this.getList(),this.openLoading()},methods:{getList(){c().then(e=>{this.cache=e.data,this.$modal.closeLoading(),this.commandstats=d.a.init(this.$refs.commandstats,"macarons"),this.commandstats.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"命令",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:e.data.commandStats,animationEasing:"cubicInOut",animationDuration:1e3}]}),this.usedmemory=d.a.init(this.$refs.usedmemory,"macarons"),this.usedmemory.setOption({tooltip:{formatter:"{b} <br/>{a} : "+this.cache.info.used_memory_human},series:[{name:"峰值",type:"gauge",min:0,max:1e3,detail:{formatter:this.cache.info.used_memory_human},data:[{value:parseFloat(this.cache.info.used_memory_human),name:"内存消耗"}]}]})})},openLoading(){this.$modal.loading("正在加载缓存监控数据，请稍候！")}}},o=n,r=s("2877"),h=Object(r["a"])(o,t,l,!1,null,null,null);a["default"]=h.exports}}]);