(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2895807e"],{"33cf":function(t,e,n){},b05b:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{ref:"gantt"})},i=[],s=(n("14d9"),n("e9f5"),n("910d"),n("6bfb")),r={name:"GanttChar",data(){return{newObj:{}}},props:{tasks:{type:Object,default(){return{data:[],links:[]}}},optType:{type:String,default(){return"view"}},ids:{type:Array,default(){return[]}}},created(){},mounted:function(){this.initConfig(),s["gantt"].plugins({marker:!0}),s["gantt"].init(this.$refs.gantt),s["gantt"].parse(this.tasks)},methods:{initData(){},reload(){s["gantt"].clearAll(),this.addTodayLine(),s["gantt"].parse(this.$props.tasks),s["gantt"].render()},addTodayLine(){var t=s["gantt"].date.date_to_str(s["gantt"].config.task_date),e=new Date;s["gantt"].addMarker({start_date:e,css:"today",text:"今天",title:"今天: "+t(e)})},initConfig(){"view"==this.optType?s["gantt"].config.readonly=!0:s["gantt"].config.readonly=!1,s["gantt"].config.duration_unit="hour",s["gantt"].config.duration_step=8,s["gantt"].config.grid_width=520,s["gantt"].config.columns=[{name:"text",label:"任务名",tree:!0,width:"200"},{name:"workstation",label:"工作站",align:"center",width:"*"},{name:"process",label:"工序",align:"center",width:"*"},{name:"start_date",label:"开始时间",align:"center",width:"*"},{name:"end_date",label:"结束时间",align:"center",width:"*"}],s["gantt"].i18n.setLocale("cn"),s["gantt"].plugins({tooltip:!0}),s["gantt"].templates.tooltip_text=function(t,e,n){return"project"==n.type?"<b style='text-align:left;'>生产工单:</b> "+n.text+"    <span style='text-align:left;'> 完成比例："+Math.round(100*n.progress)+"% </span>":"<b style='text-align:left;'>生产任务:</b> "+n.process+" "+n.text+"    <span style='text-align:left;'> 完成比例："+Math.round(100*n.progress)+"% </span>"},s["gantt"].config.open_tree_initially=!0,s["gantt"].templates.task_text=function(t,e,n){return"project"==n.type?"<b style='text-align:left;'>生产工单:</b> "+n.text+"    <span style='text-align:left;'> 完成比例："+Math.round(100*n.progress)+"% </span>":"<b style='text-align:left;'>生产任务:</b> "+n.process+" "+n.text+"    <span style='text-align:left;'> 完成比例："+Math.round(100*n.progress)+"% </span>"},s["gantt"].config.show_task_cells=!0;var t=function(t){var e=s["gantt"].date.date_to_str("%M %d"),n=s["gantt"].date.add(s["gantt"].date.add(t,1,"week"),-1,"day");return e(t)+" - "+e(n)},e=function(t){var e=s["gantt"].date.date_to_str("%M %d");s["gantt"].date.date_to_str("%D");return e(t)},n=function(t){return 0===t.getDay()||6===t.getDay()?"weekend":""};s["gantt"].config.scales=[{unit:"week",step:1,format:t},{unit:"day",step:1,format:e,css:n},{unit:"hour",step:8,format:"%H:%i"}],s["gantt"].config.scale_height=50,s["gantt"].config.xml_date="%Y-%m-%d %H:%i:%s",s["gantt"].config.auto_types=!1,s["gantt"].config.drag_progress=!1,s["gantt"].config.drag_move=!0,s["gantt"].config.drag_links=!1,s["gantt"].config.drag_resize=!0,s["gantt"].config.details_on_create=!0,s["gantt"].config.details_on_dblclick=!0,s["gantt"].config.fit_tasks=!0;let a=this.$props.tasks,i=this.$props.ids;s["gantt"].attachEvent("onAfterTaskUpdate",(function(t,e){let n=a.data.filter(e=>e.id==t);n=e,i.push(t)}))}}},o=r,g=(n("be6f"),n("2877")),l=Object(g["a"])(o,a,i,!1,null,null,null);e["default"]=l.exports},be6f:function(t,e,n){"use strict";n("33cf")}}]);